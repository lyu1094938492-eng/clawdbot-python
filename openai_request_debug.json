{
  "model": "qwen3-coder-plus",
  "messages": [
    {
      "role": "system",
      "content": "<identity>\nYou are ClawdBot, a powerful agentic AI coding assistant designed by the Google Deepmind team.\nYou are implemented in Python and have direct access to the user's system via established tools.\n</identity>\n\n<capabilities>\nYou have access to the following tool categories:\n1. **System Operations**: Using the `bash` tool to execute shell commands (Windows PowerShell compatible).\n2. **File Management**: Using `read_file`, `write_file`, and `edit_file` to manipulate local files.\n3. **Web & Search**: Fetching URLs or searching the web.\n4. **Skills**: Predefined instruction sets for complex tasks.\n</capabilities>\n\n<instructions>\n1. **Proactiveness**: When a user asks a question that requires system information (e.g., \"what's in my folder\", \"current disk space\"), DO NOT just explain how to do it. USE YOUR TOOLS to find out and report the result.\n2. **Thinking Process**: In every response that requires tools, start with a `<thinking>` section. Analyze the user request, determine the necessary steps, and list the tools you intend to use.\n3. **Tool Call Format**: Use the standard tool calling mechanism provided by the runtime.\n4. **Environment Awareness**: You are running on a Windows system. Use PowerShell-compatible commands when using the `bash` tool.\n</instructions>\n\n<available_skills>\n\n### SPECIALIZED SKILLS\nUse 'read_skill' to see details for any of the following available skills:\nAvailable: 1password, apple-notes, apple-reminders, bear-notes, bird, blogwatcher, bluebubbles, camsnap, clawdhub, coding-agent, discord-adv, eightctl, food-order, gemini, gifgrep, github, gog, goplaces, himalaya, imsg, local-places, mcporter, model-usage, nano-banana-pro, nano-pdf, notion, obsidian, openai-image-gen, openai-whisper, openhue, oracle, ordercli, peekaboo, sag, session-logs, sherpa-onnx-tts, skill-creator, slack, songsee, sonoscli, spotify-player, summarize, things-mac, tmux, trello, video-frames, voice-call, wacli, weather, web-search\n\n</available_skills>\n\n<personality>\n## Personality & Tone\n- You are professional, efficient, and direct.\n- You avoid excessive politeness or filler words.\n- You take pride in being a \"functional\" assistant that gets things done rather than just talking.\n- If you encounter an error while using a tool, acknowledge it honestly and try a different approach (e.g., a different command or tool).\n\n## Interaction Rules\n- Use Markdown for formatting your response.\n- When reporting system information (like file lists or space usage), use tables or code blocks for readability.\n- If the user's request is ambiguous, ask for clarification before taking potentially destructive actions (like deleting files).\n\n</personality>"
    },
    {
      "role": "user",
      "content": "帮我看看我的桌面上哪个文件夹最占用空间？"
    },
    {
      "role": "assistant",
      "content": "<thinking>\n用户想要知道桌面上哪个文件夹最占用空间。我需要：\n1. 首先确定桌面的路径\n2. 列出桌面下的所有文件夹\n3. 计算每个文件夹的大小\n4. 比较并找出占用空间最大的文件夹\n\n在Windows系统中，通常桌面路径是 %USERPROFILE%\\Desktop 或 C:\\Users\\{用户名}\\Desktop。\n我将使用bash命令来获取这些信息。\n</thinking>\n\n让我帮您查看桌面上哪个文件夹最占用空间。\n\n首先，我需要找到您的桌面路径并列出其中的文件夹：\n\n",
      "tool_calls": [
        {
          "id": "call_d75d93b2b0eb4f65a4fbcfd1",
          "type": "function",
          "function": {
            "name": "bash",
            "arguments": "{\"command\": \"Get-ChildItem -Path $env:USERPROFILE\\\\Desktop -Directory | Get-FolderSize | Sort-Object Size -Descending | Select-Object Name, @{Name=\\\"Size(MB)\\\";Expression={[math]::Round($_.Size/1MB, 2)}} | Head -10\"}"
          }
        }
      ]
    },
    {
      "role": "tool",
      "content": "'Get-ChildItem' �����ڲ����ⲿ���Ҳ���ǿ����еĳ���\r\n���������ļ���\r\n",
      "tool_call_id": "call_d75d93b2b0eb4f65a4fbcfd1",
      "name": "bash"
    },
    {
      "role": "assistant",
      "content": "抱歉，看来PowerShell命令执行遇到了问题。让我尝试另一种方式来获取桌面文件夹的信息。\n\n首先，让我检查一下您的桌面路径：\n\n",
      "tool_calls": [
        {
          "id": "call_80a861c8b0da41ba8cd4dc40",
          "type": "function",
          "function": {
            "name": "bash",
            "arguments": "{\"command\": \"echo $env:USERPROFILE\"}"
          }
        }
      ]
    },
    {
      "role": "tool",
      "content": "$env:USERPROFILE\r\n",
      "tool_call_id": "call_80a861c8b0da41ba8cd4dc40",
      "name": "bash"
    },
    {
      "role": "assistant",
      "content": "我看到环境变量没有正确展开。让我尝试使用不同的方法来查看桌面文件夹的大小信息：\n\n",
      "tool_calls": [
        {
          "id": "call_3b9fb2c85fbb47a2857165ab",
          "type": "function",
          "function": {
            "name": "bash",
            "arguments": "{\"command\": \"powershell -Command \\\"Get-ChildItem -Path $HOME\\\\Desktop -Directory | ForEach-Object { [PSCustomObject]@{Name = $_.Name; Size = [Math]::Round((Get-ChildItem $_.FullName -Recurse -File | Measure-Object -Property Length -Sum).Sum / 1MB, 2); Path = $_.FullName} } | Sort-Object Size -Descending | Select-Object -First 10 Name, Size, Path\\\"\"}"
          }
        }
      ]
    },
    {
      "role": "tool",
      "content": "\r\nName       Size Path                        \r\n----       ---- ----                        \r\nproject 1903.23 C:\\Users\\13613\\Desktop\\pr...\r\n\r\n\r\n",
      "tool_call_id": "call_3b9fb2c85fbb47a2857165ab",
      "name": "bash"
    }
  ],
  "max_tokens": 4096,
  "stream": true,
  "tools": [
    {
      "type": "function",
      "function": {
        "name": "read_file",
        "description": "Read contents of a file",
        "parameters": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "Path to the file to read"
            }
          },
          "required": [
            "path"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "write_file",
        "description": "Write contents to a file (creates or overwrites)",
        "parameters": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "Path to the file to write"
            },
            "content": {
              "type": "string",
              "description": "Content to write to the file"
            }
          },
          "required": [
            "path",
            "content"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "edit_file",
        "description": "Edit a file by searching and replacing text",
        "parameters": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "Path to the file to edit"
            },
            "old_text": {
              "type": "string",
              "description": "Text to search for"
            },
            "new_text": {
              "type": "string",
              "description": "Text to replace with"
            }
          },
          "required": [
            "path",
            "old_text",
            "new_text"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "bash",
        "description": "Execute bash commands in a shell. Use for system operations, running scripts, etc.",
        "parameters": {
          "type": "object",
          "properties": {
            "command": {
              "type": "string",
              "description": "The bash command to execute"
            },
            "working_directory": {
              "type": "string",
              "description": "Optional working directory for the command"
            }
          },
          "required": [
            "command"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "web_fetch",
        "description": "Fetch content from a URL",
        "parameters": {
          "type": "object",
          "properties": {
            "url": {
              "type": "string",
              "description": "URL to fetch"
            }
          },
          "required": [
            "url"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "web_search",
        "description": "Search the web for information using DuckDuckGo",
        "parameters": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "description": "Search query"
            },
            "num_results": {
              "type": "integer",
              "description": "Number of results to return",
              "default": 5
            }
          },
          "required": [
            "query"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "image",
        "description": "Analyze images using vision models. Supports file paths, URLs, and data URLs.",
        "parameters": {
          "type": "object",
          "properties": {
            "image": {
              "type": "string",
              "description": "Image file path, URL, or data URL"
            },
            "prompt": {
              "type": "string",
              "description": "Question or instruction about the image"
            },
            "model": {
              "type": "string",
              "description": "Model to use (claude-3-5-sonnet, gpt-4-vision)",
              "default": "claude-3-5-sonnet"
            }
          },
          "required": [
            "image",
            "prompt"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "sessions_list",
        "description": "List all available sessions with their message counts",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "sessions_history",
        "description": "Get conversation history from a session",
        "parameters": {
          "type": "object",
          "properties": {
            "session_id": {
              "type": "string",
              "description": "Session ID to get history from"
            },
            "limit": {
              "type": "integer",
              "description": "Maximum number of messages to return",
              "default": 50
            }
          },
          "required": [
            "session_id"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "sessions_send",
        "description": "Send a message to another session for agent-to-agent communication",
        "parameters": {
          "type": "object",
          "properties": {
            "session_id": {
              "type": "string",
              "description": "Target session ID"
            },
            "message": {
              "type": "string",
              "description": "Message content to send"
            },
            "from_session": {
              "type": "string",
              "description": "Source session ID",
              "default": "system"
            }
          },
          "required": [
            "session_id",
            "message"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "sessions_spawn",
        "description": "Create a new session with optional initial context",
        "parameters": {
          "type": "object",
          "properties": {
            "session_id": {
              "type": "string",
              "description": "New session ID (optional, will generate if not provided)"
            },
            "initial_message": {
              "type": "string",
              "description": "Initial message to seed the session"
            }
          },
          "required": []
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "browser",
        "description": "Control a headless browser for web automation, screenshots, and testing",
        "parameters": {
          "type": "object",
          "properties": {
            "action": {
              "type": "string",
              "enum": [
                "start",
                "stop",
                "open",
                "navigate",
                "screenshot",
                "click",
                "type",
                "eval",
                "pdf",
                "close"
              ],
              "description": "Browser action to perform"
            },
            "url": {
              "type": "string",
              "description": "URL to navigate to (for open/navigate)"
            },
            "page_id": {
              "type": "string",
              "description": "Page identifier (optional, uses default if not provided)"
            },
            "selector": {
              "type": "string",
              "description": "CSS selector for element (for click/type)"
            },
            "text": {
              "type": "string",
              "description": "Text to type (for type action)"
            },
            "code": {
              "type": "string",
              "description": "JavaScript code to evaluate (for eval action)"
            },
            "path": {
              "type": "string",
              "description": "File path to save screenshot/PDF"
            },
            "wait": {
              "type": "integer",
              "description": "Wait time in milliseconds before action",
              "default": 0
            }
          },
          "required": [
            "action"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "cron",
        "description": "Manage scheduled tasks and reminders",
        "parameters": {
          "type": "object",
          "properties": {
            "action": {
              "type": "string",
              "enum": [
                "add",
                "list",
                "remove",
                "status",
                "update",
                "run"
              ],
              "description": "Cron action to perform"
            },
            "job_id": {
              "type": "string",
              "description": "Job identifier"
            },
            "schedule": {
              "type": "string",
              "description": "Schedule in cron format or natural language (e.g., 'daily at 9am', '0 9 * * *')"
            },
            "task": {
              "type": "string",
              "description": "Task description or command to execute"
            },
            "message": {
              "type": "string",
              "description": "Message to send when job runs"
            },
            "session_id": {
              "type": "string",
              "description": "Target session for notifications",
              "default": "main"
            }
          },
          "required": [
            "action"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "tts",
        "description": "Convert text to speech and save as audio file",
        "parameters": {
          "type": "object",
          "properties": {
            "text": {
              "type": "string",
              "description": "Text to convert to speech"
            },
            "output_path": {
              "type": "string",
              "description": "Output file path",
              "default": "output.mp3"
            },
            "provider": {
              "type": "string",
              "enum": [
                "openai",
                "elevenlabs"
              ],
              "description": "TTS provider",
              "default": "openai"
            },
            "voice": {
              "type": "string",
              "description": "Voice ID or name",
              "default": "alloy"
            },
            "model": {
              "type": "string",
              "description": "Model to use (provider-specific)",
              "default": "tts-1"
            }
          },
          "required": [
            "text"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "process",
        "description": "Manage and monitor system processes",
        "parameters": {
          "type": "object",
          "properties": {
            "action": {
              "type": "string",
              "enum": [
                "start",
                "stop",
                "status",
                "list",
                "kill",
                "wait"
              ],
              "description": "Process action"
            },
            "command": {
              "type": "string",
              "description": "Command to execute (for start)"
            },
            "process_id": {
              "type": "string",
              "description": "Process identifier"
            },
            "pid": {
              "type": "integer",
              "description": "System process ID (for kill/status)"
            },
            "background": {
              "type": "boolean",
              "description": "Run in background",
              "default": true
            },
            "working_directory": {
              "type": "string",
              "description": "Working directory for the command"
            }
          },
          "required": [
            "action"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "nodes",
        "description": "Control connected devices for camera, screen recording, location, and notifications",
        "parameters": {
          "type": "object",
          "properties": {
            "action": {
              "type": "string",
              "enum": [
                "status",
                "list",
                "describe",
                "camera_snap",
                "camera_list",
                "camera_clip",
                "screen_record",
                "location_get",
                "notify",
                "run"
              ],
              "description": "Node action to perform"
            },
            "node_id": {
              "type": "string",
              "description": "Node identifier (optional, uses default)"
            },
            "message": {
              "type": "string",
              "description": "Notification message (for notify action)"
            },
            "title": {
              "type": "string",
              "description": "Notification title"
            },
            "camera_id": {
              "type": "string",
              "description": "Camera identifier (for camera actions)"
            },
            "duration": {
              "type": "integer",
              "description": "Recording duration in seconds",
              "default": 10
            },
            "output_path": {
              "type": "string",
              "description": "Output file path for media"
            },
            "command": {
              "type": "string",
              "description": "System command to run (for run action)"
            }
          },
          "required": [
            "action"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "canvas",
        "description": "Control the Canvas visual workspace for presenting UI, visualizations, and interactive content",
        "parameters": {
          "type": "object",
          "properties": {
            "action": {
              "type": "string",
              "enum": [
                "present",
                "hide",
                "navigate",
                "eval",
                "snapshot",
                "a2ui_push",
                "a2ui_reset"
              ],
              "description": "Canvas action to perform"
            },
            "url": {
              "type": "string",
              "description": "URL to present or navigate to"
            },
            "code": {
              "type": "string",
              "description": "JavaScript code to evaluate in canvas"
            },
            "data": {
              "type": "object",
              "description": "Data for A2UI push"
            },
            "output_path": {
              "type": "string",
              "description": "Path to save snapshot"
            }
          },
          "required": [
            "action"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "voice_call",
        "description": "Make and receive voice calls using Twilio or other providers",
        "parameters": {
          "type": "object",
          "properties": {
            "action": {
              "type": "string",
              "enum": [
                "call",
                "hangup",
                "status",
                "list_calls"
              ],
              "description": "Voice call action"
            },
            "to": {
              "type": "string",
              "description": "Phone number to call (E.164 format)"
            },
            "from": {
              "type": "string",
              "description": "Caller phone number"
            },
            "message": {
              "type": "string",
              "description": "Message to speak (TTS)"
            },
            "call_id": {
              "type": "string",
              "description": "Call identifier (for hangup/status)"
            }
          },
          "required": [
            "action"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "apply_patch",
        "description": "Apply unified diff patches to files",
        "parameters": {
          "type": "object",
          "properties": {
            "patch": {
              "type": "string",
              "description": "Unified diff patch content"
            },
            "target_file": {
              "type": "string",
              "description": "Target file path (optional if specified in patch)"
            },
            "reverse": {
              "type": "boolean",
              "description": "Apply patch in reverse",
              "default": false
            },
            "dry_run": {
              "type": "boolean",
              "description": "Test patch without applying",
              "default": false
            }
          },
          "required": [
            "patch"
          ]
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "read_skill",
        "description": "Read full usage instructions and examples for a specific skill",
        "parameters": {
          "type": "object",
          "properties": {
            "skill_name": {
              "type": "string",
              "description": "The name of the skill to read (e.g., 'weather', 'obsidian', 'github')"
            }
          },
          "required": [
            "skill_name"
          ]
        }
      }
    }
  ]
}